#labels Phase-Implementation,Featured
#summary ErlMail todo list

= Introduction =

This is an ongoing list of items that I intend to work on to make ErlMail better or in some cases just plain work.


= Details =

ErlMail General To-Do List
 * Shutdown server in XX minutes
 * impliment change_code funcations to load new code when needed
 * Check for access to config file on startup
 * move to_lower_atom/1 funcations into erlmail_util module and redirect funcations calls
 * create erlmail_app file that starts the correct servers and the message store; relocate message store startup from imapd_app
 * move split_at/1-2 funcation to erlmail_util and remove other random refernces (imapd_util)
 * move unquote/1 funcation to erlmail_util and remove otehr refernces (imapd_util)

SMTPD To-Do List:
 * Create multiple respones on EHLO command using extentions
 * Impliment Relay controls and mail queue for sending mail
 
SMTPC:
 * create way for sendmail funcation to do DNS lookup on hostname instead of requiring IP Address
 * create way for sendmail funcaiton to do MX record lookup on email address
 * create relay path for sending mail

IMAPD To-Do List
 * See [IMAPImplementation IMAP Implementation Notes]
 * Make sure that the mailbox name is the same with and without the heirachy character on the end.
 * Look into simplifing the responses in the IMAPD_CMD file. Many of these have very simplar patterns
 * Check status of imap_capbility_greeting setting in config file. Did not work last time it was tested
 * Create a function that detects and remvoes doubles quotes on a string, but only if the are the first and last characters in the string
 * UID parse fails gracefully
 * seq_to_list with wildcards
 * convert untagged messages to flow through #imapd_fsm.response. Attach new mail process through #imapd_fsm.response. Process all untagged messages on certain commands, especialy NOOP
 * create an IMAPD_RESP or IMAPD_MAILBOX gen_server that will monitor actions on mailboxes and provide respones when satus is changed. This way when multiple clients have hte same mailbox open they can receive status changes. This will also allow for new messages to be devlivered by SMTP to trigger a response for the specific client.
 * Store UIDValidity for deleted fodlers inteh user store, under options upon deletion. Check the user store before creating a new folder for older references to the deleted folder. Increment the UIDValidy by 1 and remove reference once created.

IMAPC To_Do list
 * Check to see if encoding of fetch command properly encodes "1" vs [1] for the seq set
 
MIME To-Do List
 * Encode a tree of #mime{} records into an email message
 * Change header split command account for a \t (and other whitespace) after the :
 * get section based on position [];[0];[0,0] = root
 * work on encode/decode to allow for mutliple TO, CC and BCC to be presented as a list of address strings
 * need funcation to split address list in To,CC,BCC fields so that the comma (,) is use only if not in double quotes (")

Message Store / GEN_STORE
 * check for access to message stores on startup
 * modify SELECT to access a #mailbox_store{} record and return the most current version of that #mailbox_store{}. Refactor with new syntax.
 * add funcations for select, insert and update (maybe more) into gen_store that will take the state and determine the correct store aand then call the correct function from there. re-factor code to use gen_store:Funcaiont/2 instead of Store:Function/1





